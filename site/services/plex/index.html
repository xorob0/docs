
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Docs for my personal HomeLab">
      
      
      
        <meta name="author" content="Xorob0">
      
      
        <link rel="canonical" href="https://docs.gneee.tech/services/plex/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.0">
    
    
      
        <title>Plex - Celty's Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.33e2939f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ef6f36e2.min.css">
        
      
    
    
    
      
    
    
    
      <link rel="stylesheet" href="../../stylesheets/celty.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="preference" data-md-color-primary="" data-md-color-accent="yellow">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#plex" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Celty&#39;s Docs" class="md-header__button md-logo" aria-label="Celty's Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Celty's Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Plex
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../hardware/" class="md-tabs__link">
        Show off
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../template/" class="md-tabs__link md-tabs__link--active">
        Services
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../license/" class="md-tabs__link">
        About
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Celty&#39;s Docs" class="md-nav__button md-logo" aria-label="Celty's Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Celty's Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      <label class="md-nav__link" for="__nav_2">
        Show off
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Show off" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Show off
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../hardware/" class="md-nav__link">
        Hardware
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../software/" class="md-nav__link">
        Software
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      <label class="md-nav__link" for="__nav_3">
        Services
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Services" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Services
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../template/" class="md-nav__link">
        Template
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Plex
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Plex
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#compose" class="md-nav__link">
    Compose
  </a>
  
    <nav class="md-nav" aria-label="Compose">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tmpfs" class="md-nav__link">
    tmpfs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#devices" class="md-nav__link">
    devices
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tips" class="md-nav__link">
    Tips
  </a>
  
    <nav class="md-nav" aria-label="Tips">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#put-your-thumnails-on-your-ssd" class="md-nav__link">
    Put your thumnails on your SSD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-plex-pass" class="md-nav__link">
    Get Plex Pass
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disable-online-media-sources" class="md-nav__link">
    Disable Online Media Sources
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remote-access" class="md-nav__link">
    Remote access
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dont-use-a-cdn-if-youre-going-to-use-plex-locally" class="md-nav__link">
    Don't use a CDN if you're going to use Plex locally
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transcoder-settings" class="md-nav__link">
    Transcoder settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-agents" class="md-nav__link">
    Enable agents
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../radarr/" class="md-nav__link">
        Radarr
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../librephotos/" class="md-nav__link">
        LibrePhotos
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../sanoid/" class="md-nav__link">
        Sanoid
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../wireguard/" class="md-nav__link">
        WireGuard
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        About
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="About" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          About
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../license/" class="md-nav__link">
        License
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#compose" class="md-nav__link">
    Compose
  </a>
  
    <nav class="md-nav" aria-label="Compose">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tmpfs" class="md-nav__link">
    tmpfs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#devices" class="md-nav__link">
    devices
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tips" class="md-nav__link">
    Tips
  </a>
  
    <nav class="md-nav" aria-label="Tips">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#put-your-thumnails-on-your-ssd" class="md-nav__link">
    Put your thumnails on your SSD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-plex-pass" class="md-nav__link">
    Get Plex Pass
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disable-online-media-sources" class="md-nav__link">
    Disable Online Media Sources
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remote-access" class="md-nav__link">
    Remote access
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dont-use-a-cdn-if-youre-going-to-use-plex-locally" class="md-nav__link">
    Don't use a CDN if you're going to use Plex locally
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transcoder-settings" class="md-nav__link">
    Transcoder settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-agents" class="md-nav__link">
    Enable agents
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="plex">Plex<a class="headerlink" href="#plex" title="Permanent link">⚓︎</a></h1>
<h2 id="compose">Compose<a class="headerlink" href="#compose" title="Permanent link">⚓︎</a></h2>
<pre><code>version: '3.3'
services:
  plex:
    image: ghcr.io/linuxserver/plex
    container_name: plex
    restart: unless-stopped
    environment:
      - VERSION=docker
    volumes:
      - /configs/plex:/config
      - /HDD1/Media/TV-Shows:/tv
      - /HDD1/Media/Movies:/movies
      - /HDD1/Media/Lives:/lives
      - /HDD1/Media/courses:/courses
      - /HDD1/Media/Workout:/wourkouts
    tmpfs:
      - /tmp
    devices:
      - /dev/dri:/dev/dri
</code></pre>
<h3 id="tmpfs">tmpfs<a class="headerlink" href="#tmpfs" title="Permanent link">⚓︎</a></h3>
<p>Nothing really special on this docker-compose, except for the <code>tmpfs</code> line.</p>
<p>You can thing of <code>tmpfs</code> as a "mountpoint to RAM". Every files written to <code>/tmp</code> is written to RAM.</p>
<p>I am using this so my transcoded files don't have to be written to my SSD (because it would worn it out pretty fast) or my ZFS pool (which is slow in comparaison to RAM or my SSD).</p>
<h3 id="devices">devices<a class="headerlink" href="#devices" title="Permanent link">⚓︎</a></h3>
<p>To use QuickSync for transcoding I need to pass <code>/dev/dri</code> to the container. After that everything just works.</p>
<h2 id="tips">Tips<a class="headerlink" href="#tips" title="Permanent link">⚓︎</a></h2>
<h3 id="put-your-thumnails-on-your-ssd">Put your thumnails on your SSD<a class="headerlink" href="#put-your-thumnails-on-your-ssd" title="Permanent link">⚓︎</a></h3>
<p>I used to have my thumbnails and my preview images on my HDD, this makes the UI feels really slow. But on the other hand these images can take up a lot of space, I'm currently at 50Go for my Plex Media Server folder. This could be mitigated with a CDN but might get you bad performances on local network.</p>
<h3 id="get-plex-pass">Get Plex Pass<a class="headerlink" href="#get-plex-pass" title="Permanent link">⚓︎</a></h3>
<p>If you want to use Plex the way I am, get a Plex Pass! This will unlock some really nice features and also support the devs</p>
<h3 id="disable-online-media-sources">Disable Online Media Sources<a class="headerlink" href="#disable-online-media-sources" title="Permanent link">⚓︎</a></h3>
<p>One of the first things I did was disabling the free plex sources, I don't use them and find that they mostly clutter the UI.
<img alt="Online Media Sources" src="../../assets/online_media_sources.png" />
The only one I kept enabled is the Tidal one. I advise you to keep it enabled and add a free tidal account. This will add the soudtracks to your movies and TV shows.</p>
<h3 id="remote-access">Remote access<a class="headerlink" href="#remote-access" title="Permanent link">⚓︎</a></h3>
<p>Plex comes with integrated remote access management. It works well, but does not allow for a lot of optimisation. I decided to not use it.</p>
<p><img alt="Remote Access disabled" src="../../assets/remote_access.png" /></p>
<p>Instead I set up a "Custom server access URL" under "Network"</p>
<p><img alt="Custom server access URL" src="../../assets/custom_access_url.png" /></p>
<p>For this to work I am routing with Caddy #TODO: add link to caddy</p>
<p>This has several benefits: 
- I don't get blocked by firewall when trying to listen to my music at the ofice
- I can use cloudflare's CDN for my images (they don't allow videos to be cached anymore)
- Every services available outside my network is managed by my reverse proxy, meaning I have more control about it.</p>
<p>You need to specify the port even if using some standard http/https ports.</p>
<h3 id="dont-use-a-cdn-if-youre-going-to-use-plex-locally">Don't use a CDN if you're going to use Plex locally<a class="headerlink" href="#dont-use-a-cdn-if-youre-going-to-use-plex-locally" title="Permanent link">⚓︎</a></h3>
<p>If you use a CDN evey stream will have to go through the CDN, this will give you pretty bad perfomances on local network even if it can improves performances remotely.</p>
<p>This could be circumvented with some DNS magic but I did not try it yet.</p>
<h3 id="transcoder-settings">Transcoder settings<a class="headerlink" href="#transcoder-settings" title="Permanent link">⚓︎</a></h3>
<p>If you want to use <code>tmpfs</code> as your transcoding folder, you should set it in the "Transcoder" settings:</p>
<p><img alt="Transcoder settings" src="../../assets/transcoder_path.png" /></p>
<p>I advise you to use <code>/tmp</code> since I had some issues using other directories. It seems like the library used for EAC decoding was not using the path set up in the settings and would always go to <code>/tmp</code>.</p>
<p>If it is not enabled, you should enable:
- HDR tonemapping: This makes HDR content compatible with SDR devices. If disabled your HDR content will look washed out on SDR devices
- Use hardware acceleration when available: This will use your GPU instead of you CPU for transocding</p>
<h3 id="enable-agents">Enable agents<a class="headerlink" href="#enable-agents" title="Permanent link">⚓︎</a></h3>
<p>In the "Agents" settings you can add some agents that require API keys, they will make more content available like alternatives posters for your movies. They might also help with content matching.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../template/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Template
            </div>
          </div>
        </a>
      
      
        <a href="../radarr/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Radarr
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tabs", "navigation.sections"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.d892486b.min.js"></script>
      
    
  </body>
</html>